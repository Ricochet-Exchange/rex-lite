(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{53124:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]",function(){return s(11055)}])},23857:function(e,t,s){"use strict";var n=s(79264),a=s(91463),l=s.n(a);t.Z=(0,n.Z)({supportedLngs:l().i18n.locales,fallbackLng:l().i18n.defaultLocale})},91463:function(e){"use strict";e.exports={i18n:{defaultLocale:"en",locales:["en","fr","es","sv"]}}},11055:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return t_},default:function(){return tL}});var n,a,l,i,r,o,c,d,u,p,m=s(85893),y=s(47318),x=s(66692),h=s(35880),f=s(31836),b=s(96445);let g=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,useGrouping:!0}).format(e)};var v=s(83957),w=s(28126),A=s(67294);let N=()=>{let[e,t]=(0,A.useContext)(v.wP),[s,n]=(0,A.useState)(w.d.NONE),[a,l]=(0,A.useState)(""),[i,r]=(0,A.useState)(""),[o,c]=(0,A.useState)(""),[d,u]=(0,A.useState)(!1);return(0,A.useEffect)(()=>{let{title:t,message:s,type:a,hash:i}=e.alertShower;n(a),r(t),l(s),c(i),a!==w.d.NONE&&u(!0),a===w.d.NONE&&u(!1)},[e.alertShower]),(0,m.jsx)(y.u,{as:A.Fragment,show:d,enter:"transition duration-200 transform ease",enterFrom:"opacity-0 scale-90",enterTo:"opacity-100",leave:"transition duration-200 transform ease",leaveFrom:"opacity-100",leaveTo:"opacity-0 scale-90",children:(0,m.jsx)("div",{className:"max-w-screen fixed bottom-10 drop-shadow-2xl mx-auto z-30",children:(0,m.jsxs)("div",{className:g(s===w.d.INFO?"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-blue-100 rounded-lg p-4 mb-4 text-sm text-blue-700":s===w.d.WARNING?"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-yellow-100 rounded-lg p-4 mb-4 text-sm text-yellow-700":s===w.d.ERROR?"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-red-100 rounded-lg p-4 mb-4 text-sm text-red-700":s===w.d.SUCCESS?"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-green-100 rounded-lg p-4 mb-4 text-sm text-green-700":"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-slate-100 rounded-lg p-4 mb-4 text-sm text-slate-700"),role:"alert",children:[s===w.d.INFO?(0,m.jsx)(x.Z,{className:"h-5 w-5"}):s===w.d.SUCCESS?(0,m.jsx)(h.Z,{className:"h-5 w-5"}):s===w.d.WARNING?(0,m.jsx)(f.Z,{className:"h-5 w-5"}):s===w.d.ERROR?(0,m.jsx)(f.Z,{className:"h-5 w-5"}):s===w.d.LOADING?(0,m.jsx)("div",{className:"h-5 w-5 border-4 border-slate-700 border-t-transparent rounded-full animate-spin"}):"",(0,m.jsxs)("div",{className:"md:ml-2",children:[s!==w.d.LOADING&&(0,m.jsx)("span",{className:"font-medium",children:i})," ",a]}),s===w.d.LOADING&&o&&(0,m.jsx)("a",{className:"font-medium text-slate-800 underline md:ml-auto",href:"https://polygonscan.com/tx/".concat(o),children:"check status"}),s!==w.d.LOADING&&(0,m.jsx)("button",{className:"text-slate-800 hover:text-slate-700 ml-auto",onClick:()=>u(!d),children:(0,m.jsx)(b.Z,{className:"h-6 w-6"})})]})})})};var T=s(69077),k=s(24484);let S=e=>{let{tokenAddress:t,showSymbol:s}=e,{address:n}=(0,T.mA)(),{data:a}=(0,T.KQ)({address:n,chainId:k.yu.id,token:t});return a?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{children:Number(null==a?void 0:a.formatted).toFixed(2)}),s&&(0,m.jsx)("span",{children:null==a?void 0:a.symbol})]}):(0,m.jsx)("div",{className:"animate-pulse",children:(0,m.jsx)("div",{className:"h-4 rounded bg-slate-700"})})};var C=s(49808);(n=o||(o={})).Withdraw="withdraw",n.Deposit="deposit",n.Swap="swap";var E=s(7974),I=s(84034),F=s(60662),R=s(22536),D=s(58033),M=s(78),Z=s(32392),_=s(59175);let L=[{coin:Z.sN.RIC,tokenAddress:_.Nw,superTokenAddress:_.cZ,multi:1e6,key:"hasUsdcApprove"},{coin:Z.sN.StIbAlluoUSD,tokenAddress:_.n0,superTokenAddress:_.$v,multi:1e18,key:"hasIbAlluoUSDApprove"},{coin:Z.sN.StIbAlluoETH,tokenAddress:_.$G,superTokenAddress:_.EV,multi:1e18,key:"hasIbAlluoETHApprove"},{coin:Z.sN.StIbAlluoBTC,tokenAddress:_.Mv,superTokenAddress:_.HT,multi:1e18,key:"hasIbAlluoBTCApprove"},{coin:Z.sN.USDC,tokenAddress:_.QA,superTokenAddress:_.V8,multi:1e6,key:"hasUsdcApprove"},{coin:Z.sN.DAI,tokenAddress:_.P0,superTokenAddress:_.ho,multi:1e18,key:"hasDaiApprove"},{coin:Z.sN.WETH,tokenAddress:_.Yw,superTokenAddress:_.gp,multi:1e18,key:"hasWethApprove"},{coin:Z.sN.WBTC,tokenAddress:_.ci,superTokenAddress:_.kE,multi:1e8,key:"hasWbtcApprove"},{coin:Z.sN.MATIC,tokenAddress:_.gU,superTokenAddress:_.s,multi:1e18,key:"hasMaticApprove"}];var B=s(81689),O=s(7365),U=s(2593);let P=U.O$.from(0),G=U.O$.from(-1);function Q(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pad:!1,commify:!1},n=U.O$.from(e),a=n.lt(P),l=U.O$.from(10).pow(U.O$.from(t));a&&(n=n.mul(G));let i=n.mod(l).toString();for(;i.length<t;)i="0".concat(i);if(!s.pad){let r=i.match(/^([0-9]*[1-9]|0)(0*)/);r&&(i=r[1])}let o=n.div(l).toString();s.commify&&(o=o.replace(/\B(?=(\d{3})+(?!\d))/g,","));let c="".concat(o).concat("0"==i?"":".".concat(i));return a&&(c="-".concat(c)),c}let z=e=>{let t={},s=_.ow,n=s.map(async t=>{let s=await (0,M.a4)({address:t,abi:O.e,functionName:"balanceOf",args:[e]});return{balance:s,tokenAddress:t}});return Promise.all(n).then(e=>(e.map(e=>{e.tokenAddress===_.ci&&(t[e.tokenAddress]=Q(e.balance,8)),e.tokenAddress===_.QA&&(t[e.tokenAddress]=Q(e.balance,6)),t[e.tokenAddress]=Q(e.balance,18)}),t))},W=(e,t)=>{let{address:s}=(0,M.D0)();return z(s).then(async n=>{let a=await (0,M.uN)({address:e,abi:M.em}),l=await (0,B.M1)(a,s,t),i=L.find(t=>t.tokenAddress===e),r=i?i.multi:1,o=parseFloat(l)>parseFloat(n&&n[e])*r;return o})},V=[{coin:Z.sN.USDCx,tokenAddress:_.V8},{coin:Z.sN.DAIx,tokenAddress:_.ho},{coin:Z.sN.WETHx,tokenAddress:_.gp},{coin:Z.sN.WBTCx,tokenAddress:_.kE},{coin:Z.sN.MATICx,tokenAddress:_.s},{coin:Z.sN.StIbAlluoETH,tokenAddress:_.EV},{coin:Z.sN.StIbAlluoUSD,tokenAddress:_.$v},{coin:Z.sN.StIbAlluoBTC,tokenAddress:_.HT}];var $=s(61744),K=s(30963);let H=e=>{let{action:t,type:s,form:n,icon:a,loading:l,primary:i,disabled:r,handleClick:o}=e;return(0,m.jsxs)("button",{type:s,form:n,disabled:r,className:g(i?"btn-rounded bg-primary-500 hover:bg-primary-300 disabled:bg-primary-200 disabled:text-slate-500 text-slate-800":"btn-rounded bg-slate-100 hover:bg-slate-300"),onClick:o,children:[l?"":a,l&&!a&&(0,m.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-slate-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,m.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,m.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,m.jsx)("span",{children:t})]})},q=e=>{let{action:t,type:s,disabled:n,handleClick:a}=e;return(0,m.jsx)("button",{type:s,className:"address-link",disabled:n,onClick:a,children:(0,m.jsx)("span",{children:t})})},Y=e=>{let{action:t,type:s,disabled:n,handleClick:a}=e;return(0,m.jsx)("button",{type:s,className:"btn-pill-outline",disabled:n,onClick:a,children:(0,m.jsx)("span",{children:t})})},X=e=>{let{action:t,type:s,primary:n,disabled:a,loading:l,handleClick:i}=e;return(0,m.jsxs)("button",{type:s,disabled:a,className:g(n?"btn-pill-solid":"btn-pill-solid bg-slate-100 hover:bg-slate-300 disabled:bg-primary-200 disabled:text-slate-500"),onClick:i,children:[l&&(0,m.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-slate-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,m.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,m.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,m.jsx)("span",{children:t})]})};var J=s(25675),ee=s.n(J);let et=e=>{let{classNames:t,value:s,coins:n,handleChange:a}=e;return(0,m.jsx)(I.R,{value:s,onChange:a,children:(0,m.jsxs)("div",{className:g(t||"relative w-full z-10"),children:[(0,m.jsxs)(I.R.Button,{className:"relative w-full cursor-default rounded-lg bg-slate-700 py-2 pl-3 pr-10 text-left text-slate-200 shadow-md focus:outline-none focus-visible:border-slate-500 focus-visible:ring-2 focus-visible:ring-slate-100 focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-300 sm:text-sm",children:[(0,m.jsxs)("div",{className:"flex items-center whitespace-nowrap space-x-2",children:[s!==Z.sN.SELECT&&(0,m.jsx)("span",{children:(0,m.jsx)(ee(),{width:"22",height:"22",src:Z.mk[s],alt:s})}),(0,m.jsx)("span",{className:"block truncate",children:s})]}),(0,m.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,m.jsx)(F.Z,{className:"h-5 w-5 text-slate-100","aria-hidden":"true"})})]}),(0,m.jsx)(y.u,{as:A.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,m.jsx)(I.R.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-slate-700 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:n.map((e,t)=>(0,m.jsx)(I.R.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-slate-800 text-slate-200":"text-slate-200")},value:e,children:t=>{let{selected:s}=t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"flex items-center whitespace-nowrap space-x-2",children:[e!==Z.sN.SELECT&&(0,m.jsx)("span",{children:(0,m.jsx)(ee(),{width:"22",height:"22",src:Z.mk[e],alt:e})}),(0,m.jsx)("span",{className:"block truncate ".concat(s?"font-medium":"font-normal"),children:e})]}),s?(0,m.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,m.jsx)(R.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null,s?(0,m.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,m.jsx)(R.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},t))})})]})})},es=["0.02%","0.03%","0.05%"],en=V.map(e=>e.coin).filter(e=>e!==Z.sN.RIC),ea=L.map(e=>e.coin).filter(e=>e!==Z.sN.RIC),el=[...Z.ix,...Z.Qo],ei=e=>{let{type:t,close:s,setClose:n,balanceList:a}=e,{t:l}=(0,E.$G)("home"),{address:i}=(0,T.mA)(),[r,c]=(0,A.useState)(!1),[d,u]=(0,A.useContext)(v.wP),[p,x]=(0,A.useState)(!1),[h,f]=(0,A.useState)(),[b,g]=(0,A.useState)(),[j,w]=(0,A.useState)(Z.sN.SELECT),[N,S]=(0,A.useState)(Z.sN.SELECT),[C,_]=(0,A.useState)(Z.sN.SELECT),[B,O]=(0,A.useState)(""),[U,P]=(0,A.useState)(!1),[G,Q]=(0,A.useState)(),[q,Y]=(0,A.useState)(""),[X]=K.Z.useLazyUpgradeQuery(),[J]=K.Z.useLazyApproveQuery(),[ee]=K.Z.useLazyDowngradeQuery();(0,A.useEffect)(()=>{if(t===o.Withdraw&&j!==Z.sN.SELECT){let e=V.find(e=>e.coin===j);g(e)}else if(t===o.Deposit&&j!==Z.sN.SELECT){let s=L.find(e=>e.coin===j);W(null==s?void 0:s.tokenAddress,null==s?void 0:s.superTokenAddress).then(e=>x(e)),f(s)}},[j]),(0,A.useEffect)(()=>{o.Deposit&&h&&(async()=>{let e=await (0,M.EG)({address:i,chainId:k.yu.id,token:null==h?void 0:h.tokenAddress}).then(e=>null==e?void 0:e.formatted);Y(e)})()},[h]);let ei=()=>{if(console.log("made it to approve",h),h){P(!0);let e=J({tokenAddress:null==h?void 0:h.tokenAddress,superTokenAddress:null==h?void 0:h.superTokenAddress});e.then(e=>{P(!1),W(null==h?void 0:h.tokenAddress,null==h?void 0:h.superTokenAddress).then(e=>x(e))})}},er=()=>{o.Withdraw&&a&&O(null==a?void 0:a[null==b?void 0:b.tokenAddress]),o.Deposit&&q&&O(q)},eo=e=>{null==e||e.preventDefault(),j!==Z.sN.SELECT&&(u(D.Z.showLoadingAlert("Waiting for your transaction to be confirmed...","")),t===o.Withdraw?z(i).then(e=>{if(0>=Number(B)||Object.keys(e).length&&0===Number(e[null==b?void 0:b.tokenAddress]))return;let t=$.parseEther(B);P(!0);let s=ee({value:t.toString(),tokenAddress:null==b?void 0:b.tokenAddress});console.log({downgrade:s}),s.then(e=>{e.isSuccess&&u(D.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),P(e.isLoading),e.isError&&u(D.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{u(D.Z.hideAlert())},5e3)}).catch(e=>u(D.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))}):t===o.Deposit&&z(i).then(e=>{if(!(0>Number(B))&&(!Object.keys(e).length||!h||0!==Number(e[h.tokenAddress]))&&p){let t=$.parseEther(B);P(!0);let s=X({value:t.toString(),tokenAddress:null==h?void 0:h.superTokenAddress});console.log({upgrade:s}),s.then(e=>{console.log({response:e}),e.isSuccess&&u(D.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),P(e.isLoading),e.isError&&u(D.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{u(D.Z.hideAlert())},5e3)}).catch(e=>u(D.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))}}))};return(0,m.jsx)("div",{className:"flex flex-col items-start",children:(0,m.jsxs)("form",{onSubmit:eo,className:"flex flex-col items-start w-full space-y-6",children:[(t===o.Withdraw||t===o.Deposit)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("label",{className:"text-slate-100",children:[l("token-action")," ",l(t),"?"]}),(0,m.jsx)(et,{value:j,coins:t===o.Withdraw?en:t===o.Deposit?ea:[],handleChange:w}),j!==Z.sN.SELECT&&(0,m.jsxs)("p",{children:["Balance:"," ",o.Withdraw&&a&&b?parseFloat(null==a?void 0:a[null==b?void 0:b.tokenAddress]).toFixed(3):o.Deposit&&q&&h?parseFloat(q).toFixed(3):0," ",j]})]}),t===o.Swap&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("label",{className:"text-slate-100",children:[l(t===o.Swap?"tokens-action":"token-action")," ",l(t),"?"]}),(0,m.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[(0,m.jsxs)("span",{className:"text-slate-100",children:[l("from"),": "]}),(0,m.jsx)(et,{classNames:"relative w-full z-30",value:N,coins:el,handleChange:S})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[(0,m.jsxs)("span",{className:"text-slate-100",children:[l("to"),": "]}),(0,m.jsx)(et,{classNames:"relative w-full z-20",value:C,coins:el,handleChange:_})]})]}),(0,m.jsxs)("label",{className:"text-slate-100",children:[l("amount-action")," ",l(t),"?"]}),(0,m.jsxs)("div",{className:"relative w-full",children:[(0,m.jsx)("input",{type:"number",className:"input-outline",value:B,step:"any",onChange:e=>O(e.target.value),placeholder:t===o.Swap?"".concat(l(N!==Z.sN.SELECT?"amount-in":"amount")," ").concat(N!==Z.sN.SELECT?N:""):l("amount")}),(0,m.jsx)("button",{type:"button",className:"pr-8 text-primary-500 hover:text-primary-300 hover:font-bold absolute right-2.5 bottom-2.5 font-medium text-sm",onClick:er,children:"Max"})]}),t===o.Swap&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("label",{className:"text-slate-100",children:[l("slippage-tolerance"),":"]}),(0,m.jsx)(I.R,{value:G,onChange:Q,children:(0,m.jsxs)("div",{className:"relative w-full z-10",children:[(0,m.jsxs)(I.R.Button,{className:"relative w-full cursor-default rounded-lg bg-slate-700 py-2 pl-3 pr-10 text-left text-slate-200 shadow-md focus:outline-none focus-visible:border-slate-500 focus-visible:ring-2 focus-visible:ring-slate-100 focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-300 sm:text-sm",children:[(0,m.jsx)("span",{className:"block truncate",children:G||"Select slippage tolerance"}),(0,m.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,m.jsx)(F.Z,{className:"h-5 w-5 text-slate-100","aria-hidden":"true"})})]}),(0,m.jsx)(y.u,{as:A.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,m.jsx)(I.R.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-slate-700 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:es.map((e,t)=>(0,m.jsx)(I.R.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-slate-800 text-slate-200":"text-slate-200")},value:e,children:t=>{let{selected:s}=t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"block truncate ".concat(s?"font-medium":"font-normal"),children:e}),s?(0,m.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,m.jsx)(R.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},t))})})]})}),(0,m.jsxs)("p",{className:"text-slate-100",children:[l("min-output-amt"),": ...",C!==Z.sN.SELECT?C:""]})]}),(0,m.jsxs)("div",{className:"flex space-x-4 w-full justify-end",children:[(0,m.jsx)("button",{type:"button",className:"text-slate-100 underline",onClick:()=>n(!s),children:l("cancel")}),(t===o.Withdraw||t===o.Swap)&&(0,m.jsx)(H,{type:"submit",loading:U,disabled:U,action:U?"".concat(l("confirming"),"..."):"".concat(l("confirm")," ").concat(l(t))}),p&&t===o.Deposit&&(0,m.jsx)(H,{type:"submit",loading:U,disabled:U,action:U?"".concat(l("confirming"),"..."):"".concat(l("confirm")," ").concat(l(t))}),!p&&t===o.Deposit&&(0,m.jsx)(H,{type:"button",loading:U,action:U?"".concat(l("approving"),"..."):"".concat(l("approve")),disabled:j===Z.sN.SELECT||U,handleClick:ei})]})]})})},er=e=>{let{close:t,setClose:s,action:n,balanceList:a}=e,{t:l}=(0,E.$G)("home"),[i,r]=(0,A.useState)(0);return(0,A.useEffect)(()=>{r(n)},[n]),(0,m.jsxs)(C.O.Group,{selectedIndex:i,onChange:r,children:[(0,m.jsxs)(C.O.List,{className:"flex items-center justify-between border-b-2 border-primary-900 border-opacity-30 mb-8 mt-4",children:[(0,m.jsx)(C.O,{as:A.Fragment,children:e=>{let{selected:t}=e;return(0,m.jsx)("button",{className:t?"text-slate-100 border-b-2 border-primary-500":"text-slate-400 border-none",children:l("withdraw")})}}),(0,m.jsx)(C.O,{as:A.Fragment,children:e=>{let{selected:t}=e;return(0,m.jsx)("button",{className:t?"text-slate-100 border-b-2 border-primary-500":"text-slate-400 border-none",children:l("deposit")})}}),(0,m.jsx)("button",{className:"text-slate-400 hover:text-slate-100",onClick:()=>s(!t),children:(0,m.jsx)(b.Z,{className:"h-4 w-4"})})]}),(0,m.jsxs)(C.O.Panels,{children:[(0,m.jsx)(C.O.Panel,{children:(0,m.jsx)(ei,{type:o.Withdraw,close:t,setClose:s,balanceList:a})}),(0,m.jsx)(C.O.Panel,{children:(0,m.jsx)(ei,{type:o.Deposit,close:t,setClose:s,balanceList:a})}),(0,m.jsx)(C.O.Panel,{children:(0,m.jsx)(ei,{type:o.Swap,close:t,setClose:s,balanceList:a})})]})]})},eo=new Map([[_.ho,"dai"],[_.V8,"usd-coin"],[_.gp,"weth"],[_.kE,"wrapped-bitcoin"],[_.s,"matic-network"],[_.cZ,"richochet"],[_.EV,"weth"],[_.$v,"usd-coin"],[_.HT,"wrapped-bitcoin"]]);var ec=s(60179);let ed=()=>{let[e]=ec.Z.useLazyGetPricesQuery(),[t,s]=(0,A.useState)(new Map);return(0,A.useEffect)(()=>{let t=[...eo.values()],n=e(t.join(","));n.then(e=>{let t=[...eo.keys()],n=new Map;t.forEach(t=>{var s,a;let l=null==eo?void 0:eo.get(t),i=null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.filter(e=>e.id===l);void 0===i?(n.set(t,0),console.warn("Could not fetch price for token ",t)):n.set(t,null===(a=i[0])||void 0===a?void 0:a.current_price)}),s(n)})},[]),t};(a=c||(c={})).ETH="#B3FFFF",a.WBTC="#FF8D8F",a.RIC="#7B7EFF",a.USDC="#2775CA",a.StIbAlluoETH="#75E276",a.StIbAlluoUSD="#E9DF89";let eu={[Z.sN.ETH]:c.ETH,[Z.sN.WBTC]:c.WBTC,[Z.sN.RIC]:c.RIC,[Z.sN.USDC]:c.USDC,[Z.sN.StIbAlluoUSD]:c.StIbAlluoUSD,[Z.sN.StIbAlluoETH]:c.StIbAlluoETH},ep={USDC:"usd-coin",MATIC:"matic-network",ETH:"ethereum",BTC:"bitcoin",WBTC:"wrapped-bitcoin",DAI:"dai",RIC:"richochet",IbAlluoETH:"ethereum",IbAlluoBTC:"wrapped-bitcoin",IbAlluoUSD:"usd-coin",StIbAlluoETH:"ethereum",StIbAlluoBTC:"wrapped-bitcoin",StIbAlluoUSD:"usd-coin"},em=e=>{let[t]=ec.Z.useLazyGetTokenHistoryQuery(),[s,n]=(0,A.useState)(new Map),a=(0,A.useRef)(!1);return(0,A.useEffect)(()=>{if(e.size>0){let s=new Map;for(let[l,i]of e)if(i[0]!==Z.sN.SELECT&&i[1]!==Z.sN.SELECT){let r=[ep[i[0]],ep[i[1]]],o=r.map(async e=>await t(e));Promise.all(o).then(e=>{e.map(e=>{e&&s.set(null==e?void 0:e.originalArgs,null==e?void 0:e.data.prices)})}).finally(()=>{n(s),a.current=!0})}}},[e]),(0,A.useEffect)(()=>{a.current&&(a.current=!1)},[a]),s},ey=e=>{let t=[],s=[];return e&&e.length&&(s=[...t=[...e].sort((e,t)=>+e[0]-+t[0])].sort((e,t)=>+e[1]-+t[1])),{tSort:t,priceSorted:s}};var ex=s(67421),eh=s(9253),ef=s(46888),eb=s(3023),eg=s(75358),ej=s(14888),ev=s(86108);let ew=e=>{let{pairs:t,position:s}=e,{t:n}=(0,ex.$G)("home"),a=em(t),[l,i]=(0,A.useState)([]),[r,o]=(0,A.useState)([]),[c,d]=(0,A.useState)([]),[u,p]=(0,A.useState)(["0","0"]),y=e=>"auto"!==e?new Date(e).toLocaleDateString("en-us",{month:"short",day:"numeric"}):new Date().toLocaleDateString("en-us",{month:"short",day:"numeric"}),x=e=>j(e),h=e=>{let t=e.map(e=>e[0]);d(t)};return(0,A.useEffect)(()=>{if(a.size>0&&t.size>0)for(let[e,s]of t){if(s[0]===Z.sN.USDC||s[0]===Z.sN.IbAlluoUSD||s[0]===Z.sN.StIbAlluoUSD||s[0]===Z.sN.DAI){let{tSort:n,priceSorted:l}=ey(a.get(ep[s[1]]));l.length&&n.length&&(p([l[0][1]||"0",l[l.length-1][1]||"0"]),i(n))}if(s[1]===Z.sN.USDC||s[1]===Z.sN.IbAlluoUSD||s[1]===Z.sN.StIbAlluoUSD||s[1]===Z.sN.DAI){let{tSort:r,priceSorted:o}=ey(a.get(ep[s[0]]));o.length&&r.length&&(p([o[0][1]||"0",o[o.length-1][1]||"0"]),i(r))}}},[a,t]),(0,A.useEffect)(()=>{l&&l.length&&h(l)},[l]),(0,A.useEffect)(()=>{if(l&&l.length&&c.length){let e=[];c.map((t,s)=>{e.push({name:t,price:l[s][1]})}),o(e)}},[c,l]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"h-52 min-h-full w-52 min-w-full",children:(0,m.jsx)(eh.h,{height:"100%",width:"100%",children:(0,m.jsxs)(ef.T,{margin:{top:0,right:10,left:40,bottom:20},data:r,children:[(0,m.jsx)(eb.K,{dataKey:"name",tickFormatter:e=>y(e),interval:"preserveEnd",tickMargin:5,minTickGap:10}),(0,m.jsx)(eg.B,{dataKey:"y",tickMargin:5,orientation:"left",tickFormatter:e=>x(e),interval:"preserveEnd",domain:[u[0],u[1]]}),(0,m.jsx)(ej.u,{}),(0,m.jsx)(ev.u,{type:"monotone",dataKey:"price",stroke:"#81a8ce",fill:"#81a8ce"})]})})}),s&&(0,m.jsxs)("p",{className:"text-slate-100 my-2 pl-14",children:[(0,m.jsxs)("span",{className:"text-slate-400",children:[n("average-buy-price"),":"]})," 1 ",s.coinB," ="," ",((+u[0]+ +u[1])/2).toFixed(3)," ",s.coinA]})]})};var eA=s(73604),eN=s(46208),eT=s(43815);let ek=e=>{let{tokens:t,geckoPriceList:s,balances:n}=e,{t:a}=(0,E.$G)("home"),[l,i]=(0,A.useState)(0),[r,o]=(0,A.useState)([]);return(0,A.useEffect)(()=>{let e=[];t.filter(e=>!!e.color).map(t=>{e.push({name:t.token,color:t.color,value:parseFloat(t.ricAmount)})}),o(e)},[t]),(0,A.useEffect)(()=>{let e=L.reduce((e,t)=>{let a=Object.keys(n).length&&Object.keys(s).length&&Object.keys(ep).length&&(parseFloat(n[t.superTokenAddress])*parseFloat(s[ep[t.coin]].usd)).toFixed(6);return e+parseFloat(a)},0);i(e)},[t,n,s,ep]),(0,m.jsx)("div",{className:"h-52 w-52",children:(0,m.jsx)(eh.h,{height:"100%",width:"100%",children:(0,m.jsxs)(eA.u,{children:[(0,m.jsx)("text",{fill:"#81a8ce",x:100,y:80,textAnchor:"middle",dominantBaseline:"middle",children:a("total")}),l&&(0,m.jsx)("text",{fill:"white",x:100,y:110,fontWeight:600,textAnchor:"middle",dominantBaseline:"middle",children:j(l)}),(0,m.jsx)(eN.b,{data:r,innerRadius:80,outerRadius:100,fill:"#81a8ce",paddingAngle:0,nameKey:"name",dataKey:"value",children:r.map(e=>(0,m.jsx)(eT.b,{fill:e.color},"cell-".concat(e.name)))})]})})})};var eS=s(45485),eC=s(44414);let eE=e=>{let{contentPerPage:t=0,count:s=0}=e,[n,a]=(0,A.useState)(1),[l,i]=(0,A.useState)({before:!1,paginationGroup:[],after:!0}),r=Math.ceil(s/t),o=n*t,[c,d]=(0,A.useState)([]);(0,A.useEffect)(()=>{if(r>2){let e=Array(r-2).fill(1).map((e,t)=>t+2);d(e)}},[r]),(0,A.useEffect)(()=>{let e=c.indexOf(n),t=[],s=!1,a=!1;t=1===n?c.slice(0,3):n===r||n===r-1||n===r-2?c.slice(-3,r):2===n?c.slice(e,e+3):[n-1,n,n+1],r<=5?(s=!1,a=!1):(s=!1,a=!1,t[0]>2&&(s=!0),t[2]<r-1&&(a=!0)),i({paginationGroup:t,before:s,after:a})},[n,c,r]);let u=e=>{a(t=>e?t===r?t:t+1:1===t?t:t-1)},p=e=>{e>r?a(r):e<1?a(1):a(e)};return{totalPages:r,nextPage:()=>u(!0),prevPage:()=>u(!1),setPage:p,firstContentIndex:o-t,lastContentIndex:o,page:n,gaps:l}};var eI=s(84009);(l=d||(d={})).Position="Position",l.Market="Market",l.Balances="Balances",l.ViewPosition="View Position";let eF=e=>{let{coinA:t,coinB:s,token:n,type:a}=e;return(a===d.Market||a===d.Position)&&t&&s?(0,m.jsxs)("div",{className:"flex flex-wrap items-center justify-between lg:space-x-2",children:[(0,m.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,m.jsx)(ee(),{width:"24",height:"24",src:Z.mk[t],alt:t})," ",(0,m.jsx)("span",{className:"text-sm",children:t})]}),(0,m.jsx)(eI.Z,{className:"h-5 w-5"}),(0,m.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,m.jsx)(ee(),{width:"24",height:"24",src:Z.mk[s],alt:s})," ",(0,m.jsx)("span",{className:"text-sm",children:s})]})]}):a===d.Balances&&n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ee(),{width:"24",height:"24",src:Z.mk[n],alt:n}),(0,m.jsx)("span",{className:g(n===Z.sN.ETH?"bg-eth text-slate-800 px-1 py-0":n===Z.sN.WBTC?"bg-btc text-slate-800 px-1 py-0":n===Z.sN.RIC?"bg-ric text-slate-200 px-1 py-0":n===Z.sN.USDC?"bg-usdc text-slate-200 px-1 py-0":n===Z.sN.StIbAlluoETH?"bg-stIbAlluoEth text-slate-800 px-1 py-0":n===Z.sN.StIbAlluoUSD?"bg-stIbAlluoUsd text-slate-800 px-1 py-0":"bg-transparent","text-sm"),children:n})]}):a===d.ViewPosition&&t&&s?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,m.jsx)(ee(),{width:"40",height:"40",src:Z.mk[t],alt:t})," ",(0,m.jsx)("span",{className:"font-medium text-slate-100",children:t})]}),(0,m.jsx)(eI.Z,{className:"h-10 w-16"}),(0,m.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,m.jsx)(ee(),{width:"30",height:"30",src:Z.mk[s],alt:s})," ",(0,m.jsx)("span",{className:"font-medium text-slate-100",children:s})]})]}):(0,m.jsx)(m.Fragment,{})},eR=e=>{let{headers:t,rowNumber:s}=e,n=[],a=[];for(let l=0;l<t.length;l++)a.push((0,m.jsx)("td",{className:"h-4 bg-slate-700"},l));for(let i=0;i<s;i++)n.push((0,m.jsx)("tr",{className:"animate-pulse",children:a},i));return(0,m.jsxs)("table",{className:"border-separate border-spacing-2 min-w-full",children:[(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{children:t.map((e,t)=>(0,m.jsx)("th",{scope:"col",className:"font-normal text-slate-400 px-6 py-4 text-start",children:e},t))})}),(0,m.jsx)("tbody",{children:n})]})},eD=e=>!!e.positions||0===e.positions,eM=e=>!!e.streams||0===e.streams,eZ=e=>!!e.token,e_=e=>{let{headers:t,rowData:s,selectable:n,selectData:a,tableLoaderRows:l}=e,{t:i}=(0,E.$G)("home"),{firstContentIndex:r,lastContentIndex:o,nextPage:c,prevPage:u,page:p,gaps:y,setPage:x,totalPages:h}=eE({contentPerPage:6,count:s.length});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"overflow-auto",children:[0===s.length&&(0,m.jsx)(eR,{headers:t,rowNumber:l}),s.length>0&&(0,m.jsxs)("table",{className:"table-fixed min-w-full",children:[(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{children:t.map((e,t)=>(0,m.jsx)("th",{scope:"col",className:"font-normal text-slate-400 px-6 py-4 text-start",children:i("".concat(e.toLocaleLowerCase().replace(/\s/g,"-")))},t))})}),(0,m.jsx)("tbody",{children:s.slice(r,o).map((e,t)=>{var s,l;return(0,m.jsx)("tr",{className:g(n?"cursor-pointer":"cursor-auto","text-slate-200 border-b border-slate-600"),onClick:()=>n&&eD(e)?null==a?void 0:a(e):null,children:eD(e)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:(0,m.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,m.jsx)(eF,{coinA:e.coinA,coinB:e.coinB,type:d.Position})})}),(0,m.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.avgBuyPrice," ",e.coinA]}),(0,m.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,m.jsx)("p",{children:j(parseFloat(e.rateUsdValue))}),(0,m.jsxs)("p",{className:"text-slate-400",children:[parseFloat(e.output).toFixed(3)," ",(0,m.jsxs)("span",{className:"text-sm",children:[e.coinA,"x"]})]})]}),(0,m.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,m.jsx)("p",{children:j(parseFloat(e.streamedUsdValue))}),(0,m.jsxs)("p",{className:"text-slate-400",children:[e.input.toFixed(3)," ",(0,m.jsxs)("span",{className:"text-sm",children:[e.coinA,"x"]})]})]})]}):eM(e)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:(0,m.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,m.jsx)(eF,{coinA:e.coinA,coinB:e.coinB,type:d.Market})})}),(0,m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.feePercent}),(0,m.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,m.jsx)("p",{children:j(parseFloat(e.usdValue))}),(0,m.jsxs)("p",{className:"text-slate-400",children:[e.total," ",(0,m.jsxs)("span",{className:"text-sm",children:[e.coinA,"x"]})]})]}),(0,m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.streams})]}):eZ(e)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("td",{className:"flex items-center px-2 py-4 whitespace-nowrap space-x-2",children:(0,m.jsx)(eF,{token:e.token,type:d.Balances})}),(0,m.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,m.jsx)("p",{children:e.token===Z.sN.WBTC||e.token===Z.sN.IbAlluoBTC||e.token===Z.sN.StIbAlluoBTC||e.token===Z.sN.ETH||e.token===Z.sN.IbAlluoETH||e.token===Z.sN.StIbAlluoETH?null===(s=parseFloat(e.ricAmount).toFixed(20).match(/^-?\d*\.?0*\d{0,2}/))||void 0===s?void 0:s[0].replace(/(?:\.0+|(\.\d+?)0+)$/,"$1"):parseFloat(e.ricAmount).toFixed(2)}),(0,m.jsx)("p",{className:"text-slate-400",children:j(parseFloat(e.ricUsdAmount))})]}),(0,m.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,m.jsx)("p",{children:"N/A"===e.walletAmount?e.walletAmount:e.token===Z.sN.WBTC||e.token===Z.sN.IbAlluoBTC||e.token===Z.sN.StIbAlluoBTC||e.token===Z.sN.ETH||e.token===Z.sN.IbAlluoETH||e.token===Z.sN.StIbAlluoETH?null===(l=parseFloat(e.walletAmount).toFixed(20).match(/^-?\d*\.?0*\d{0,2}/))||void 0===l?void 0:l[0].replace(/(?:\.0+|(\.\d+?)0+)$/,"$1"):parseFloat(e.walletAmount).toFixed(2)}),(0,m.jsx)("p",{className:"text-slate-400",children:"N/A"===e.walletUsdAmount?e.walletUsdAmount:j(parseFloat(e.walletUsdAmount))})]})]}):(0,m.jsx)(m.Fragment,{})},t)})})]})]}),s.length>0&&(0,m.jsxs)("div",{className:"flex justify-end text-slate-500 space-x-2 mt-4",children:[(0,m.jsx)("button",{onClick:u,className:"".concat(1!==p&&"hover:text-slate-300"," ").concat(1===p&&"text-slate-600"),disabled:1===p,children:(0,m.jsx)(eS.Z,{className:"h-4 w-4"})}),(0,m.jsx)("button",{onClick:()=>x(1),className:"".concat(1===p&&"text-slate-100"),children:"1"}),y.before?"...":"",y.paginationGroup.map(e=>(0,m.jsx)("button",{onClick:()=>x(e),className:"".concat(p===e?"text-slate-100":""),children:e},e)),y.after?"...":"",h>1&&(0,m.jsx)("button",{onClick:()=>x(h),className:"".concat(p===h&&"text-slate-100"),children:h}),(0,m.jsx)("button",{onClick:c,className:"".concat(p!==h&&"hover:text-slate-300"," ").concat(p===h&&"text-slate-600"),disabled:p===h,children:(0,m.jsx)(eC.Z,{className:"h-4 w-4"})})]})]})},eL=["token","ricochet-balance","wallet-balance"],eB=e=>{let{tokens:t,balances:s}=e,{t:n}=(0,E.$G)("home"),{address:a,isConnected:l}=(0,T.mA)(),[i,r]=(0,A.useState)(0),[o,c]=(0,A.useState)(!0),d=ed(),[u,p]=(0,A.useState)(L),[y,x]=(0,A.useState)({}),[h,f]=(0,A.useState)([]);return(0,A.useEffect)(()=>{l&&(t&&x(t),(async()=>{Object.keys(y).length&&Object.keys(s).length&&await Promise.all(u.map(async e=>{let t=await (0,M.EG)({address:a,chainId:k.yu.id,token:e.coin!==Z.sN.RIC?e.tokenAddress:void 0});return{token:e.coin,ricAmount:s[e.superTokenAddress],ricUsdAmount:(parseFloat(s[e.superTokenAddress])*d.get(e.superTokenAddress)).toFixed(2),walletAmount:e.coin===Z.sN.RIC?"N/A":null==t?void 0:t.formatted,walletUsdAmount:e.coin===Z.sN.RIC?"N/A":(parseFloat(null==t?void 0:t.formatted)*d.get(e.superTokenAddress)).toFixed(2),color:eu[e.coin]}})).then(e=>{let t=e.sort((e,t)=>parseFloat(t.ricAmount)-parseFloat(e.ricAmount));t.length>0&&f(t)})})())},[l,t,s,y,u]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:"font-light uppercase tracking-widest text-primary-500",children:n("your-balances")}),!o&&(0,m.jsx)(er,{close:o,setClose:c,action:i,balanceList:s}),o&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"flex flex-wrap items-center justify-evenly basis-1/3 my-4",children:[(0,m.jsx)(Y,{type:"button",action:"".concat(n("withdraw")),handleClick:()=>{c(!1),r(0)}}),(0,m.jsx)(X,{type:"button",action:"".concat(n("deposit")),primary:!0,handleClick:()=>{c(!1),r(1)}})]}),(0,m.jsx)("div",{className:"flex justify-center my-4",children:(0,m.jsx)(ek,{tokens:h,geckoPriceList:y,balances:s})}),(0,m.jsx)(e_,{headers:eL,rowData:h,tableLoaderRows:6})]})]})};var eO={src:"/_next/static/media/launchpad-bg.d3b0fdae.jpg",height:2722,width:4096,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAAnQQv/8QAGxABAAEFAQAAAAAAAAAAAAAAAQIAAwQREiH/2gAIAQEAAT8AhcI4sjgV83X/xAAaEQEAAQUAAAAAAAAAAAAAAAACAQADERIx/9oACAECAQE/ALjS1zPDFf/EABYRAAMAAAAAAAAAAAAAAAAAAAABIf/aAAgBAwEBPwBQ/9k=",blurWidth:8,blurHeight:5};let eU=e=>{let{content:t}=e;return(0,m.jsx)("div",{className:"card",children:t})},eP=e=>{let{content:t}=e;return(0,m.jsx)("div",{className:"card-outline text-center",children:t})},eG=e=>{let{content:t}=e;return(0,m.jsxs)("div",{className:"card text-center relative",children:[(0,m.jsx)("div",{className:"z-10",children:t}),(0,m.jsx)(ee(),{src:eO,className:"object-cover object-bottom absolute inset-0 z-0 rounded-lg",draggable:"false",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",alt:"Launchpad Background",priority:!0}),(0,m.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-700 via-slate-800 to-slate-900 z-0 opacity-60 rounded-lg"})]})},eQ=e=>{let{content:t}=e;return(0,m.jsx)("div",{className:"card-container",children:t})},ez=e=>{let{content:t}=e;return(0,m.jsx)("div",{className:"flex flex-wrap items-center justify-between space-y-4 md:space-y-0 mb-10",children:t})},eW=e=>{let{content:t}=e;return(0,m.jsxs)("div",{className:"card-sm",children:[!t&&(0,m.jsx)("div",{className:"animate-pulse",children:(0,m.jsxs)("div",{className:"grid grid-rows-2 gap-2",children:[(0,m.jsx)("div",{className:"h-5 bg-slate-700 rounded"}),(0,m.jsx)("div",{className:"h-6 bg-slate-700 rounded"})]})}),!!t&&t]})},eV=e=>(0,m.jsxs)("svg",{viewBox:"0 0 50 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,m.jsx)("path",{d:"M37.918 0h-23.78c0-.043 5.913 4.585 5.913 4.585L0 12.083l20.266 7.669-5.87 4.756 23.522-.343A12.068 12.068 0 0 0 50 12.083C50 5.399 43.359-.043 37.918 0Zm0 21.508c-5.227 0-9.426-4.241-9.426-9.425 0-5.185 4.241-9.426 9.426-9.426 5.184 0 9.426 4.241 9.426 9.426 0 5.184-4.242 9.425-9.426 9.425Z",fill:"#fff"}),(0,m.jsx)("path",{d:"M35.947 18.038h-2.185v-6.684s2.185.129 2.185 1.414v5.27ZM33.89 4.842h5.313c1.5 0 4.242.514 4.242 4.113s-3.514 3.813-3.514 3.813l3.342 5.27h-2.185l-2.87-4.542v-2.142s3.17.471 3.17-2.485-2.185-2.185-2.185-2.185l-4.113-.129s-1.114-.3-1.114-1.67l-.086-.043Z",fill:"#fff"})]}),e$=()=>{let{t:e}=(0,E.$G)("footer");return(0,m.jsxs)("div",{className:"flex flex-wrap items-start justify-between bg-footer-500 p-16",children:[(0,m.jsxs)("h6",{className:"flex space-x-2 mb-10 md:mb-0",children:[(0,m.jsx)(eV,{width:"50",height:"25"}),(0,m.jsx)("span",{className:"text-slate-100 font-semibold tracking-wide",children:"Ricochet"})]}),(0,m.jsxs)("section",{className:"flex flex-wrap items-center space-x-8 md:space-x-14 lg:space-x-32",children:[(0,m.jsxs)("article",{className:"flex flex-col space-y-4",children:[(0,m.jsx)("h6",{className:"text-slate-600 font-bold",children:e("support")}),(0,m.jsx)("a",{href:"https://discord.gg/ptqCBnJ9dr",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("discord")}),(0,m.jsx)("a",{href:"https://docs.ricochet.exchange/tutorial/using-the-dapp",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("tutorials")}),(0,m.jsx)("a",{href:"https://docs.ricochet.exchange/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("documentation")})]}),(0,m.jsxs)("article",{className:"flex flex-col space-y-4",children:[(0,m.jsx)("h6",{className:"text-slate-600 font-bold",children:e("explore")}),(0,m.jsx)("a",{href:"https://medium.com/ricochet-exchange",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("medium")}),(0,m.jsx)("a",{href:"https://github.com/Ricochet-Exchange/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("github")}),(0,m.jsx)("a",{href:"https://twitter.com/ricochetxchange",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("twitter")})]})]})]})};var eK=s(62367),eH=s(13012),eq=s(56466);let eY=()=>{let{t:e}=(0,E.$G)("home"),[t,s]=(0,A.useContext)(v.wP),{address:n,isConnected:a}=(0,T.mA)(),[l,i]=(0,A.useState)(!1),[r,o]=(0,A.useState)(eq.YK[0]),[c,d]=(0,A.useState)(1e3),[u]=K.Z.useLazyStartStreamQuery(),p=()=>{let e="https://app.uniswap.org/#/swap?theme=dark&inputCurrency=".concat(_.QA,"&outputCurrency=").concat(_.cZ,"&exactAmount=100000&exactField=output");window.open(e,"_blank")},y=()=>{if(!r||!c){s(D.Z.showErrorAlert("Oops!","We were unable to find the selected position. Please try another one.")),setTimeout(()=>{s(D.Z.hideAlert())},5e3);return}if(i(!0),s(D.Z.showLoadingAlert("Waiting for your transaction to be confirmed...","")),!c)return;let e="20";if((null==r?void 0:r.type)===eq.Z6.launchpad){let t=new eH.Z(e),n=t.div(2592e3).times(1e18).div(c).round(0,0).times(c).div(1e18).times(259200).div(3600).div(24).div(30).times(10);e=n.toFixed()}let a=u({amount:e,config:r});a.then(e=>{e.isSuccess&&s(D.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),i(e.isLoading),e.isError&&s(D.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{s(D.Z.hideAlert())},5e3)}).catch(e=>s(D.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))};return(0,m.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,m.jsxs)("div",{className:"flex items-center justify-center text-slate-100 space-x-3",children:[(0,m.jsx)(eK.Z,{className:"h-6 w-6"}),(0,m.jsx)("p",{className:"uppercase tracking-widest",children:"Rexpro"})]}),(0,m.jsx)("p",{className:"text-slate-100",children:e("start-a-position")}),a&&(0,m.jsx)(X,{type:"button",primary:!0,loading:l,disabled:l,action:l?"".concat(e("confirming"),"..."):e("start-20-position"),handleClick:y}),(0,m.jsx)(X,{type:"button",primary:!1,action:"".concat(e("buy")," 100,000 RIC"),handleClick:p})]})};var eX=s(89396);let eJ=function(e,t,s){var n;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(s.size>0&&t.size>0?parseFloat(null===(n=t.get(e.flowKey))||void 0===n?void 0:n.flowsOwned)*s.get(e.tokenA):0).toFixed(a)},e0=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(parseFloat(e)*t).toFixed(s)},e1=["market","fee percent","total value streaming","currently streaming"],e2=e=>{let{coingeckoPrices:t,sortedList:s,queries:n}=e,{t:a}=(0,E.$G)("home"),[l,i]=(0,A.useState)(""),[r,o]=(0,A.useState)([]),[c,d]=(0,A.useState)([]);(0,A.useEffect)(()=>{if(s.length>0&&n.size>0){let e=[];s.map(s=>{var a,l;return e.push({...s,total:parseFloat(null===(a=n.get(s.flowKey))||void 0===a?void 0:a.flowsOwned)||0,usdValue:eJ(s,n,t),feePercent:s.coinA.includes("IbAlluo")?"0.5%":"2%",streams:(null===(l=n.get(s.flowKey))||void 0===l?void 0:l.totalFlows)||0})});let a=e.sort((e,t)=>t.total-e.total);o(a)}},[n,t,s]);let u=e=>{let{value:t}=e.target;i(t);let s=r.filter(e=>e.coinA.toUpperCase().includes(t.toUpperCase())||e.coinB.toUpperCase().includes(t.toUpperCase()));d(s)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ez,{content:(0,m.jsxs)("div",{className:"w-full flex flex-wrap items-center justify-between space-y-4 lg:space-y-0",children:[(0,m.jsx)("p",{className:"text-slate-400 uppercase",children:a("markets")}),(0,m.jsxs)("label",{className:"relative block w-max",children:[(0,m.jsx)("span",{className:"sr-only",children:"Search"}),(0,m.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,m.jsx)(eX.Z,{className:"h-4 w-4 fill-slate-400",viewBox:"0 0 20 20"})}),(0,m.jsx)("input",{className:"input-search",placeholder:a("search"),type:"text",name:"search",value:l,onChange:u})]})]})}),(0,m.jsx)(e_,{headers:e1,rowData:l?c:r,tableLoaderRows:12})]})};var e5=s(6512),e4=s(44149),e3=s(82847),e6=s(47145);let e8=e=>(0,m.jsxs)("svg",{viewBox:"0 0 66 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,m.jsx)("path",{d:"M50.051 0H18.663c0-.056 7.805 6.052 7.805 6.052L0 15.949l26.75 10.123-7.747 6.278 31.048-.452C58.874 31.898 66 24.772 66 15.949S57.234-.056 50.051 0Zm0 28.391c-6.9 0-12.442-5.599-12.442-12.442s5.6-12.442 12.442-12.442c6.844 0 12.443 5.599 12.443 12.442s-5.6 12.442-12.443 12.442Z",fill:"url(#a)"}),(0,m.jsx)("path",{d:"M47.45 23.81h-2.885v-8.822s2.885.17 2.885 1.866v6.956ZM44.735 6.391h7.013c1.98 0 5.599.679 5.599 5.43 0 4.75-4.638 5.033-4.638 5.033l4.412 6.956h-2.885l-3.789-5.995v-2.828s4.185.623 4.185-3.28c0-3.902-2.884-2.884-2.884-2.884l-5.43-.17s-1.47-.396-1.47-2.205l-.113-.057Z",fill:"#C5C2C6"}),(0,m.jsx)("defs",{children:(0,m.jsxs)("linearGradient",{id:"a",x1:0,y1:16.175,x2:66,y2:16.175,gradientUnits:"userSpaceOnUse",children:[(0,m.jsx)("stop",{stopColor:"#6194C3"}),(0,m.jsx)("stop",{offset:1,stopColor:"#B5CBE2"})]})})]});var e7=s(11163),e9=s.n(e7),te=s(91463),tt=s.n(te),ts=s(41664),tn=s.n(ts),ta=s(23857);let tl=e=>{let{locale:t,...s}=e,n=(0,e7.useRouter)(),a=s.href||n.asPath,l=n.pathname;return Object.keys(n.query).forEach(e=>{if("locale"===e){l=l.replace("[".concat(e,"]"),t);return}l=l.replace("[".concat(e,"]"),n.query[e])}),t&&(a=s.href?"/".concat(t).concat(s.href):l),(0,m.jsx)(tn(),{className:"text-sm text-slate-200",href:a,onClick:()=>{var e;return null===(e=ta.Z.cache)||void 0===e?void 0:e.call(ta.Z,t)},children:t})},ti=e=>{let{children:t,skipLocaleHandling:s,...n}=e,a=(0,e7.useRouter)(),l=n.locale||a.query.locale||"",i=n.href||a.asPath;return 0===i.indexOf("http")&&(s=!0),l&&!s&&(i=i?"/".concat(l).concat(i):a.pathname.replace("[locale]",l)),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(tn(),{href:i,...n,children:t})})};function tr(){let{disconnect:e}=(0,T.qL)(),{address:t,isConnected:s}=(0,T.mA)(),{data:n,isError:a,isLoading:l}=(0,T.KQ)({address:t,chainId:k.yu.id,token:_.cZ}),{t:i}=(0,E.$G)("home"),r=e9().query.locale||tt().i18n.defaultLocale;return(0,m.jsx)(e5.p,{as:"nav",className:"navbar",children:t=>{let{open:o}=t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ti,{href:"/",className:"p-2 mr-4 inline-flex items-center space-x-2",draggable:!1,children:[(0,m.jsx)(e8,{width:"50",height:"25"}),(0,m.jsx)("span",{className:"text-xl tracking-wide",children:"Ricochet"})]}),(0,m.jsx)("p",{className:"inline-flex items-center space-x-2",children:tt().i18n.locales.map(e=>e===r?null:(0,m.jsx)(tl,{locale:e},e))}),(0,m.jsxs)(e5.p.Button,{className:"btn-mobile-menu",children:[(0,m.jsx)("span",{className:"sr-only",children:"Open main menu"}),o?(0,m.jsx)(b.Z,{className:"h-6 w-6","aria-hidden":"true"}):(0,m.jsx)(e4.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,m.jsx)(e5.p.Panel,{className:"w-full lg:inline-flex lg:flex-grow lg:w-auto",children:(0,m.jsxs)("div",{className:"mobile-links",children:[(0,m.jsxs)("a",{className:"inline-flex items-center space-x-1 text-primary-500",href:"https://discord.com/channels/862796510604296263/864667072357597185",target:"_blank",rel:"noopener noreferrer",children:[(0,m.jsx)("span",{className:"underline",children:"support"}),(0,m.jsx)(e3.Z,{className:"h-4 w-4"})]}),l&&(0,m.jsx)("p",{children:"Fetching balance..."}),a&&(0,m.jsx)(m.Fragment,{}),!l&&!a&&s&&(0,m.jsxs)("p",{children:[Number(null==n?void 0:n.formatted).toFixed(2)," ",null==n?void 0:n.symbol]}),(0,m.jsx)(e6.x3.Custom,{children:e=>{let{isConnected:t,show:s,unsupported:n,truncatedAddress:a,ensName:l}=e;return(0,m.jsx)(m.Fragment,{children:t?n?(0,m.jsx)(H,{action:"".concat(i("wrong-network")),handleClick:s,type:"button"}):(0,m.jsx)("button",{type:"button",className:"address-link",children:null!=l?l:a}):(0,m.jsx)(H,{action:"".concat(i("connect-wallet")),handleClick:s,type:"button"})})}}),s&&(0,m.jsxs)("div",{className:"mt-3 space-y-1 px-2",children:[(0,m.jsx)(e5.p.Button,{as:"a",href:"https://staging.ricochet.exchange/#/recent-activity",rel:"noreferrer",target:"_blank",className:"block rounded-md px-3 py-2 text-base font-medium text-slate-400 hover:bg-slate-700 hover:text-slate-100 cursor-pointer",children:i("your-activity")}),(0,m.jsx)(e5.p.Button,{as:"a",onClick:()=>e(),className:"block rounded-md px-3 py-2 text-base font-medium text-slate-400 hover:bg-slate-700 hover:text-slate-100 cursor-pointer",children:i("disconnect-wallet")})]})]})}),(0,m.jsxs)("div",{className:"desktop-links",children:[(0,m.jsxs)("a",{className:"inline-flex items-center space-x-1 text-primary-500",href:"https://discord.com/channels/862796510604296263/864667072357597185",target:"_blank",rel:"noopener noreferrer",children:[(0,m.jsx)("span",{className:"underline",children:i("support")}),(0,m.jsx)(e3.Z,{className:"h-4 w-4"})]}),l&&(0,m.jsx)("p",{children:"Fetching balance..."}),a&&(0,m.jsx)(m.Fragment,{}),!l&&!a&&s&&(0,m.jsxs)("p",{children:[Number(null==n?void 0:n.formatted).toFixed(2)," ",null==n?void 0:n.symbol]}),(0,m.jsx)(e6.x3.Custom,{children:e=>{let{isConnected:t,show:s,unsupported:n,truncatedAddress:a,ensName:l}=e;return(0,m.jsx)(m.Fragment,{children:t?n?(0,m.jsx)(H,{action:"".concat(i("wrong-network")),handleClick:s,type:"button"}):(0,m.jsx)(q,{action:null!=l?l:a,handleClick:s,type:"button"}):(0,m.jsx)(H,{action:"".concat(i("connect-wallet")),handleClick:s,type:"button"})})}})]})]})}})}let to=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"contract ISuperfluid",name:"_host",type:"address"},{internalType:"contract IConstantFlowAgreementV1",name:"_cfa",type:"address"},{internalType:"contract IInstantDistributionAgreementV1",name:"_ida",type:"address"},{internalType:"string",name:"_registrationKey",type:"string"},{internalType:"contract IREXReferral",name:"_rexReferral",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeCollected",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"Distribution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"contract ISuperToken",name:"_token",type:"address"},{internalType:"uint128",name:"_feeRate",type:"uint128"},{internalType:"uint256",name:"_emissionRate",type:"uint256"},{internalType:"uint256",name:"_requestId",type:"uint256"},{internalType:"uint128",name:"_shareScaler",type:"uint128"}],name:"addOutputPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementCreated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_cbdata",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementTerminated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_cbdata",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementUpdated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"beforeAgreementCreated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"beforeAgreementTerminated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"beforeAgreementUpdated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"ctx",type:"bytes"}],name:"distribute",outputs:[{internalType:"bytes",name:"newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"streamer",type:"address"}],name:"emergencyCloseStream",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyDrain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"}],name:"getCurrentValue",outputs:[{internalType:"bool",name:"_ifRetrieve",type:"bool"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"uint256",name:"_timestampRetrieved",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"}],name:"getEmissionRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"}],name:"getFeeRate",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"},{internalType:"address",name:"_streamer",type:"address"}],name:"getIDAShares",outputs:[{internalType:"bool",name:"_exist",type:"bool"},{internalType:"bool",name:"_approved",type:"bool"},{internalType:"uint128",name:"_units",type:"uint128"},{internalType:"uint256",name:"_pendingDistribution",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInputToken",outputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastDistributionAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"token",type:"address"}],name:"getOracleInfo",outputs:[{components:[{internalType:"uint256",name:"requestId",type:"uint256"},{internalType:"uint256",name:"usdPrice",type:"uint256"},{internalType:"uint256",name:"lastUpdatedAt",type:"uint256"}],internalType:"struct REXMarket.OracleInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"}],name:"getOutputPool",outputs:[{components:[{internalType:"contract ISuperToken",name:"token",type:"address"},{internalType:"uint128",name:"feeRate",type:"uint128"},{internalType:"uint256",name:"emissionRate",type:"uint256"},{internalType:"uint128",name:"shareScaler",type:"uint128"}],internalType:"struct REXMarket.OutputPool",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRateTolerance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_streamer",type:"address"},{internalType:"contract ISuperToken",name:"_token",type:"address"}],name:"getStreamRate",outputs:[{internalType:"int96",name:"_requesterFlowRate",type:"int96"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTellorOracle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalInflow",outputs:[{internalType:"int96",name:"",type:"int96"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_inputToken",type:"address"},{internalType:"uint256",name:"_rateTolerance",type:"uint256"},{internalType:"contract ITellor",name:"_tellor",type:"address"},{internalType:"uint256",name:"_inputTokenRequestId",type:"uint256"},{internalType:"uint128",name:"_affiliateFee",type:"uint128"},{internalType:"uint128",name:"_feeRate",type:"uint128"}],name:"initializeMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_emissionRate",type:"uint256"}],name:"initializeSubsidies",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_inputTokenA",type:"address"},{internalType:"uint256",name:"_inputTokenARequestId",type:"uint256"},{internalType:"uint128",name:"_inputTokenAShareScaler",type:"uint128"},{internalType:"contract ISuperToken",name:"_inputTokenB",type:"address"},{internalType:"uint256",name:"_inputTokenBRequestId",type:"uint256"},{internalType:"uint128",name:"_inputTokenBShareScaler",type:"uint128"},{internalType:"uint128",name:"_feeRate",type:"uint128"},{internalType:"uint256",name:"_rateTolerance",type:"uint256"}],name:"initializeTwoWayMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isAppJailed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ric",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"},{internalType:"uint128",name:"_emissionRate",type:"uint128"}],name:"setEmissionRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"},{internalType:"uint128",name:"_feeRate",type:"uint128"}],name:"setFeeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"setRateTolerance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_token",type:"address"}],name:"updateTokenPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateTokenPrices",outputs:[],stateMutability:"nonpayable",type:"function"}],tc=e=>_.ql[e],td=async(e,t,s)=>{let{outputIndex:n}=eq.zJ.filter(e=>e.input===t&&e.output===s)[0],a=await (0,M.a4)({address:tc(e),abi:to,functionName:"getOutputPool",args:[n]}),l=(null==a?void 0:a.shareScaler)*1e3;return l};(i=u||(u={})).none="",i.change="change",i.deposit="deposit";let tu=e=>{let{setClose:t,position:s}=e,{t:n}=(0,E.$G)("home"),{address:a}=(0,T.mA)(),[l,i]=(0,A.useState)(),[r,o]=(0,A.useState)(u.none),[c,d]=(0,A.useState)(""),[p,y]=(0,A.useState)(""),[x,h]=(0,A.useContext)(v.wP),[f]=K.Z.useLazyStartStreamQuery(),[b]=K.Z.useLazyStopStreamQuery(),[g,j]=(0,A.useState)(""),[w]=K.Z.useLazyUpgradeQuery(),[N,S]=(0,A.useState)(!1),[C,I]=(0,A.useState)(!1),[F,R]=(0,A.useState)(1e3);(0,A.useEffect)(()=>{var e;if(!s)return;let t=null==s?void 0:null===(e=s.flowKey)||void 0===e?void 0:e.replace("FlowQuery",""),n=async(e,t,s)=>{let n=await td(e,t,s).then(e=>e);console.log(n),R(n)};n(t,null==s?void 0:s.tokenA,null==s?void 0:s.tokenB)},[null==s?void 0:s.flowKey,null==s?void 0:s.tokenA,null==s?void 0:s.tokenB]),(0,A.useEffect)(()=>{if(s){let e=L.find(e=>e.coin===s.coinA);W(null==e?void 0:e.tokenAddress,null==e?void 0:e.superTokenAddress).then(e=>I(e)),i(e)}},[s]),(0,A.useEffect)(()=>{r===u.deposit&&l&&(async()=>{let e=await (0,M.EG)({address:a,chainId:k.yu.id,token:null==l?void 0:l.tokenAddress}).then(e=>null==e?void 0:e.formatted);j(e)})()},[r,l]);let Z=()=>{r===u.deposit&&g&&d(g)},_=e=>{null==e||e.preventDefault(),r===u.deposit&&z(a).then(e=>{if(!(0>Number(c))&&(!Object.keys(e).length||!l||0!==Number(e[l.tokenAddress]))&&C){let t=U.O$.from(c).toString();S(!0);let s=w({value:t,tokenAddress:null==l?void 0:l.superTokenAddress});console.log({upgrade:s}),s.then(e=>{console.log({response:e}),e.isSuccess&&h(D.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),S(e.isLoading),e.isError&&h(D.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{h(D.Z.hideAlert())},5e3)}).catch(e=>h(D.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))}})},B=e=>{if(e.preventDefault(),s&&r===u.change){if(S(!0),h(D.Z.showLoadingAlert("Waiting for your transaction to be confirmed...","")),!s||!F){h(D.Z.showErrorAlert("Oops!","We were unable to find the selected position. Please try another one.")),setTimeout(()=>{h(D.Z.hideAlert())},5e3);return}let t=c;if((null==s?void 0:s.type)===eq.Z6.market){let n=new eH.Z(c),a=n.div(2592e3).times(1e18).div(F).round(0,0).times(F).div(1e18).times(259200).div(3600).div(24).div(30).times(10);t=a.toFixed()}let l={superToken:s.superToken,tokenA:s.tokenA,tokenB:s.tokenB,coinA:s.coinA,coinB:s.coinB,flowKey:s.flowKey,type:s.type},i=f({amount:t,config:l});i.then(e=>{e.isSuccess&&h(D.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),S(e.isLoading),e.isError&&h(D.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{h(D.Z.hideAlert())},5e3)}).catch(e=>h(D.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))}else h(D.Z.showErrorAlert("Oops!","We were unable to find the selected position. Please try another one.")),setTimeout(()=>{h(D.Z.hideAlert())},5e3)},O=()=>{S(!0),h(D.Z.showLoadingAlert("Waiting for your transaction to be confirmed...",""));let e=b(s);e.then(e=>{e.isSuccess&&h(D.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),S(e.isLoading),e.isError&&(console.log("response",e),h(D.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error)))),setTimeout(()=>{h(D.Z.hideAlert())},5e3)}).catch(e=>{console.log({error:e}),h(D.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message))))})};return(0,m.jsxs)("div",{className:"flex flex-col space-y-4",children:[!r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h6",{className:"text-slate-100",children:[n("position-action"),"?"]}),(0,m.jsx)(Y,{action:"".concat(n("change-swap-amount")),type:"button",handleClick:()=>o(u.change)}),(0,m.jsx)(Y,{action:"".concat(n("deposit")," ").concat(s.coinA),type:"button",handleClick:()=>o(u.deposit)}),(0,m.jsx)(H,{action:N?"".concat(n("stopping"),"..."):"".concat(n("stop-position")),type:"button",loading:N,disabled:N,handleClick:O}),(0,m.jsx)("hr",{className:"border-slate-500"}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)("button",{type:"button",className:"outline-none text-slate-100 underline",onClick:()=>t(!1),children:n("cancel")})})]}),r===u.deposit&&(0,m.jsxs)("form",{id:"change-swap-form",className:"flex flex-col space-y-6",onSubmit:_,children:[(0,m.jsxs)("label",{className:"text-slate-100",children:[n("amount-action")," ",n("deposit"),"?"]}),(0,m.jsxs)("div",{className:"relative w-full",children:[(0,m.jsx)("input",{type:"number",step:"any",className:"input-outline",value:c,onChange:e=>y(e.target.value),placeholder:"".concat(n("amount"))}),(0,m.jsx)("button",{type:"button",className:"pr-8 text-primary-500 hover:text-primary-300 hover:font-bold absolute right-2.5 bottom-2.5 font-medium text-sm",onClick:Z,children:"Max"})]}),r===u.deposit&&(0,m.jsxs)("p",{children:["Balance: ",g&&l?parseFloat(g).toFixed(3):0," ",s.coinA]}),(0,m.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,m.jsx)("button",{type:"button",className:"outline-none text-slate-100 underline",onClick:()=>o(u.none),children:n("cancel")}),(0,m.jsx)(H,{type:"submit",action:N?"".concat(n("confirming"),"..."):"".concat(n("confirm")," ").concat(n("deposit")),primary:!0,loading:N,disabled:!c||N})]})]}),r===u.change&&(0,m.jsxs)("form",{id:"change-swap-form",className:"flex flex-col space-y-6",onSubmit:B,children:[(0,m.jsxs)("label",{className:"text-slate-100",children:[n("desired-swap-amount"),"?"]}),(0,m.jsx)("input",{type:"number",step:"any",className:"input-outline",value:c,onChange:e=>d(e.target.value),placeholder:"".concat(n("swap-amount"))}),(0,m.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,m.jsx)("button",{type:"button",className:"outline-none text-slate-100 underline",onClick:()=>o(u.none),children:n("cancel")}),(0,m.jsx)(H,{type:"submit",action:N?"".concat(n("confirming"),"..."):"".concat(n("confirm-change")),primary:!0,loading:N,disabled:!c||N})]})]})]})},tp=e=>{let t=new Map;return e.length&&e.map(e=>t.set(e.flowKey,[e.coinA,e.coinB])),t},tm=e=>{let{close:t,setClose:s}=e,n=["continuous"],{t:a}=(0,E.$G)("home"),[l,i]=(0,A.useState)(eq.fY.map(e=>e.coinA).filter((e,t,s)=>s.indexOf(e)===t)),[r,o]=(0,A.useState)(eq.fY.map(e=>e.coinB).filter((e,t,s)=>s.indexOf(e)===t)),[c,d]=(0,A.useState)(),[u,p]=(0,A.useState)(new Map),[x,h]=(0,A.useState)(Z.sN.SELECT),[f,b]=(0,A.useState)(Z.sN.SELECT),[g,j]=(0,A.useState)("0"),[w,N]=(0,A.useContext)(v.wP),[T,k]=(0,A.useState)(!1),[S,C]=(0,A.useState)(1e3),[M]=K.Z.useLazyStartStreamQuery(),[_,L]=(0,A.useState)(n[0]);(0,A.useEffect)(()=>{var e;if(!c)return;let t=null==c?void 0:null===(e=c.flowKey)||void 0===e?void 0:e.replace("FlowQuery",""),s=async(e,t,s)=>{let n=await td(e,t,s).then(e=>e);console.log(n),C(n)};s(t,null==c?void 0:c.tokenA,null==c?void 0:c.tokenB)},[null==c?void 0:c.flowKey,null==c?void 0:c.tokenA,null==c?void 0:c.tokenB]),(0,A.useEffect)(()=>{if(x!==Z.sN.SELECT){let e=eq.fY.filter(e=>e.coinA===x).map(e=>e.coinB).filter((e,t,s)=>s.indexOf(e)===t);o([Z.sN.SELECT,...e])}else{let t=eq.fY.map(e=>e.coinB).filter((e,t,s)=>s.indexOf(e)===t);o([Z.sN.SELECT,...t])}},[x]),(0,A.useEffect)(()=>{if(f!==Z.sN.SELECT){let e=eq.fY.filter(e=>e.coinB===f).map(e=>e.coinA).filter((e,t,s)=>s.indexOf(e)===t);i([Z.sN.SELECT,...e])}else{let t=eq.fY.map(e=>e.coinB).filter((e,t,s)=>s.indexOf(e)===t);i([Z.sN.SELECT,...t])}},[f]),(0,A.useEffect)(()=>{if(x!==Z.sN.SELECT&&f!==Z.sN.SELECT){let e=eq.fY.find(e=>e.coinA===x&&e.coinB===f);d(e)}},[x,f]),(0,A.useEffect)(()=>{if(c){let e=tp([c]);p(e)}},[c]);let B=e=>{if(e.preventDefault(),x===Z.sN.SELECT||f===Z.sN.SELECT)return;if(!c||!S){N(D.Z.showErrorAlert("Oops!","We were unable to find the selected position. Please try another one.")),setTimeout(()=>{N(D.Z.hideAlert())},5e3);return}if(k(!0),N(D.Z.showLoadingAlert("Waiting for your transaction to be confirmed...","")),!S)return;let t=g;if((null==c?void 0:c.type)===eq.Z6.market){let s=new eH.Z(g),n=s.div(2592e3).times(1e18).div(S).round(0,0).times(S).div(1e18).times(259200).div(3600).div(24).div(30).times(10);t=n.toFixed()}let a=M({amount:t,config:c});a.then(e=>{e.isSuccess&&N(D.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),k(e.isLoading),e.isError&&N(D.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{N(D.Z.hideAlert())},5e3)}).catch(e=>N(D.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:"text-primary-500 uppercase",children:a("your-streams")}),(0,m.jsxs)("div",{className:"flex flex-wrap items-center justify-between space-y-8 lg:space-y-0 mt-4",children:[(0,m.jsxs)("form",{id:"new-position-form",className:"flex flex-col items-start lg:p-8 w-full lg:w-1/2 space-y-6",onSubmit:B,children:[(0,m.jsxs)("label",{className:"text-slate-100",children:[a("position-token"),"?"]}),(0,m.jsxs)("div",{className:"flex flex-wrap lg:flex-nowrap items-center lg:space-x-4 w-full lg:w-auto",children:[(0,m.jsx)(et,{classNames:"relative w-full z-20",value:x,coins:l,handleChange:h}),(0,m.jsx)(eI.Z,{className:"h-10 w-16"}),(0,m.jsx)(et,{classNames:"relative w-full z-20",value:f,coins:r,handleChange:b})]}),(0,m.jsxs)("label",{className:"text-slate-100",children:[a("position-amount"),"?"]}),(0,m.jsx)("input",{type:"number",step:"any",className:"input-outline",value:g,onChange:e=>j(e.target.value),placeholder:"".concat(a("amount"))}),(0,m.jsxs)("label",{className:"text-slate-100",children:[a("position-select"),":"]}),(0,m.jsx)(I.R,{value:_,onChange:L,children:(0,m.jsxs)("div",{className:"relative w-full z-10",children:[(0,m.jsxs)(I.R.Button,{className:"relative w-full cursor-default rounded-lg bg-slate-700 py-2 pl-3 pr-10 text-left text-slate-200 shadow-md focus:outline-none focus-visible:border-slate-500 focus-visible:ring-2 focus-visible:ring-slate-100 focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-300 sm:text-sm",children:[(0,m.jsx)("span",{className:"block truncate",children:a("".concat(_.toLocaleLowerCase().replace(/\s/g,"-")))}),(0,m.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,m.jsx)(F.Z,{className:"h-5 w-5 text-slate-100","aria-hidden":"true"})})]}),(0,m.jsx)(y.u,{as:A.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,m.jsx)(I.R.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-slate-700 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:n.map((e,t)=>(0,m.jsx)(I.R.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-slate-800 text-slate-200":"text-slate-200")},value:e,children:t=>{let{selected:s}=t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"block truncate ".concat(s?"font-medium":"font-normal"),children:a("".concat(e.toLocaleLowerCase().replace(/\s/g,"-")))}),s?(0,m.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,m.jsx)(R.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null,s?(0,m.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,m.jsx)(R.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},t))})})]})})]}),(0,m.jsx)("div",{className:"w-full lg:w-1/2",children:(0,m.jsx)(ew,{pairs:u})}),(0,m.jsxs)("div",{className:"flex space-x-4 w-full justify-end",children:[(0,m.jsx)("button",{type:"button",className:"text-slate-100 underline",onClick:()=>s(!t),children:a("cancel")}),(0,m.jsx)(H,{type:"submit",form:"new-position-form",loading:T,disabled:T,action:T?"".concat(a("processing"),"..."):"".concat(a("start-new-position"))})]})]})]})};var ty=s(56457);let tx=e=>{let[t,s]=(0,A.useState)(new Map),n=(0,A.useRef)(!1);return(0,A.useEffect)(()=>{if(e.length&&!n.current){let t=tp(e);s(t),n.current=!0}},[e]),(0,A.useEffect)(()=>{n.current&&(n.current=!1)},[]),t};var th=s(48068);let tf=e=>{let{setClose:t,position:s}=e,{t:n}=(0,E.$G)("home"),[a,l]=(0,A.useState)(!1),[i,r]=(0,A.useState)(0),o=tx([s]),{data:c,isLoading:u,isSuccess:p,isError:y,error:x}=ec.Z.useGetTokenPriceQuery(ep[s.coinB]);return(0,A.useEffect)(()=>{if(c&&p){var e;r(null==c?void 0:null===(e=c[ep[s.coinB]])||void 0===e?void 0:e.usd)}y&&console.error(x)},[c,p]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"flex items-center justify-start border-b border-slate-600 space-x-4 mb-6 lg:mb-12 pb-2",children:[(0,m.jsxs)("button",{type:"button",className:"outline-none text-primary-500 space-x-2",onClick:()=>t(!0),children:[(0,m.jsx)("span",{className:"no-underline",children:"<"}),(0,m.jsx)("span",{className:"underline",children:n("show-all")})]}),(0,m.jsx)("button",{type:"button",className:g(a?"outline-none text-slate-500 pointer-events-none":"outline-none text-primary-500 underline cursor-pointer"),onClick:()=>l(!0),disabled:a,children:a?"".concat(n("editing-position"),"..."):"".concat(n("edit-position"))})]}),(0,m.jsxs)("div",{className:"flex flex-wrap items-start justify-between space-y-4 md:space-y-0",children:[(0,m.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,m.jsx)("span",{className:"flex items-center justify-start",children:(0,m.jsx)(eF,{coinA:s.coinA,coinB:s.coinB,type:d.ViewPosition})}),(0,m.jsxs)("p",{className:"text-slate-100 my-2",children:[(0,m.jsxs)("span",{className:"text-slate-400",children:[n("total-streamed"),":"]})," ",s.input.toFixed(3)," ",s.coinA,"x (",j(parseFloat(s.streamedUsdValue)),")"]}),(0,m.jsxs)("p",{className:"text-slate-100 my-2",children:[(0,m.jsxs)("span",{className:"text-slate-400",children:[n("stream-rate"),":"]})," ",parseFloat(s.output).toFixed(3)," ",s.coinA,"x (",j(parseFloat(s.rateUsdValue)),")"]})]}),!a&&(0,m.jsx)("div",{className:"w-full md:w-1/2",children:(0,m.jsx)(ew,{pairs:o,position:s})}),a&&(0,m.jsx)("div",{className:"w-full md:w-1/2 mt-4",children:(0,m.jsx)(tu,{setClose:l,position:s})})]})]})},tb=["your markets","average buy price","stream rate","total streamed"],tg=e=>{let{positions:t,queries:s}=e,{t:n}=(0,E.$G)("home"),[a,l]=(0,A.useState)([]),[i,r]=(0,A.useState)(new Map),[o,c]=(0,A.useState)(!0),d=ed(),u=tx(t),p=em(u),[y,x]=(0,A.useState)([["0","0"]]),[h,f]=(0,A.useState)(),[b,g]=(0,A.useState)(!0),{address:j,isConnected:v}=(0,T.mA)(),[w]=th.Z.useQuerySushiPoolPricesMutation();return(0,A.useEffect)(()=>{if(p.size>0&&u.size>0){let e=[];for(let[t,s]of u){if(s[0]===Z.sN.USDC||s[0]===Z.sN.IbAlluoUSD||s[0]===Z.sN.StIbAlluoUSD||s[0]===Z.sN.DAI){let{priceSorted:n}=ey(p.get(ep[s[1]]));n.length&&(e.push([n[0][1],n[n.length-1][1]]),x(e))}if(s[1]===Z.sN.USDC||s[1]===Z.sN.IbAlluoUSD||s[1]===Z.sN.StIbAlluoUSD||s[1]===Z.sN.DAI){let{priceSorted:a}=ey(p.get(ep[s[0]]));a.length&&(e.push([a[0][1],a[a.length-1][1]]),x(e))}}}},[p,u]),(0,A.useEffect)(()=>{let e=_.ow.map(async e=>{let t=await (0,M.EG)({address:j,chainId:k.yu.id,token:e}).then(e=>null==e?void 0:e.formatted);return{token:e,balance:t}});Promise.all(e).then(e=>{let t=new Map;e.map(e=>t.set(null==e?void 0:e.token,null==e?void 0:e.balance)),r(t)})},[j,v]),(0,A.useEffect)(()=>{if(j&&v&&s.size>0&&t.length>0){let e=[];t.map((t,n)=>{var a,l,i,r,o,c,u,p,m;e.push({...t,positions:(null===(a=s.get(null==t?void 0:t.flowKey))||void 0===a?void 0:a.totalFlows)||0,rateUsdValue:e0(null===(l=s.get(null==t?void 0:t.flowKey))||void 0===l?void 0:l.placeholder,d.get(null==t?void 0:t.tokenA)),streamedUsdValue:e0(null===(i=s.get(null==t?void 0:t.flowKey))||void 0===i?void 0:null===(r=i.streamedSoFar)||void 0===r?void 0:r.toFixed(0),d.get(null==t?void 0:t.tokenA)),input:(null===(o=s.get(null==t?void 0:t.flowKey))||void 0===o?void 0:o.streamedSoFar)||0,output:null===(c=s.get(null==t?void 0:t.flowKey))||void 0===c?void 0:c.placeholder,avgBuyPrice:y.length&&(null===(u=y[n])||void 0===u?void 0:u.length)?((+(null==y?void 0:null===(p=y[n])||void 0===p?void 0:p[0])+ +(null==y?void 0:null===(m=y[n])||void 0===m?void 0:m[1]))/2).toFixed(3):"0"})}),l(e)}},[j,v,y,t,s,d]),(0,m.jsxs)(m.Fragment,{children:[o&&(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsx)(ez,{content:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:"text-primary-500 uppercase",children:n("your-streams")}),(0,m.jsx)(H,{icon:(0,m.jsx)(ty.Z,{className:"h-4 w-4"}),type:"button",action:"".concat(n("new-position")),handleClick:()=>{c(!1)}})]})}),b&&(a.length?(0,m.jsx)(e_,{headers:tb,rowData:a,tableLoaderRows:12,selectable:!0,selectData:e=>{f(e),g(!1)}}):(0,m.jsxs)("p",{className:"italic",children:[n("no-positions"),"..."]})),!b&&(0,m.jsx)(tf,{close:b,setClose:g,position:h})]}),!o&&(0,m.jsx)(tm,{close:o,setClose:c})]})};var tj=s(59721),tv=s(64202);let tw=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"id",type:"string"}],name:"AffiliateApplied",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"affiliateId",type:"string"}],name:"AffiliateWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"customer",type:"address"}],name:"OrganicCustomerRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"customer",type:"address"},{indexed:!1,internalType:"address",name:"affiliate",type:"address"},{indexed:!1,internalType:"string",name:"affiliateId",type:"string"}],name:"ReferredCustomerRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"APP_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"addressToAffiliate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"affiliateIdToAffiliate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"affiliates",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"id",type:"string"},{internalType:"bool",name:"enabled",type:"bool"},{internalType:"uint256",name:"totalRef",type:"uint256"},{internalType:"address",name:"addr",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"affiliateId",type:"string"}],name:"applyForAffiliate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAddress",type:"address"}],name:"changeAffiliateAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"customerToAffiliate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"affiliateId",type:"string"}],name:"disableAffiliate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"customerAddr",type:"address"}],name:"getAffiliateAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"affiliateId",type:"string"}],name:"isAffiliateEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isCustomerOrganic",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contractAddr",type:"address"}],name:"registerApp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"customerAddr",type:"address"},{internalType:"string",name:"affiliateId",type:"string"}],name:"safeRegisterCustomer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contractAddr",type:"address"}],name:"unregisterApp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"affiliateId",type:"string"}],name:"verifyAffiliate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawAffiliate",outputs:[],stateMutability:"nonpayable",type:"function"}];(r=p||(p={})).INACTIVE="inactive",r.REGISTERING="registering",r.AWAITING_VERIFICATION="awaitingVerification",r.ENABLED="enabled";let tA=e=>{let t=[[new Blob([e]).size<=32,"Cannot be larger than 32 characters (Some characters count as 2)"],[e.length>1,"Must be at least 2 characters"]];return t},tN=e=>tA(e).reduce((e,t)=>!1===t[0]?[...e,t[1]]:e,[]),tT=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>{},s=await (0,M.a4)({address:_.CU,abi:tw,functionName:"addressToAffiliate",args:[e.toLowerCase()]}),n=await (0,M.a4)({address:_.CU,abi:tw,functionName:"affiliates",args:[s]});return U.O$.from(n.addr).isZero()?p.INACTIVE:!1===n.enabled?p.AWAITING_VERIFICATION:0===tN(n.id).length?(t(n.id),p.ENABLED):void 0},tk=()=>{let{t:e}=(0,E.$G)("home"),{address:t,isConnected:s}=(0,T.mA)(),[n,a]=(0,A.useState)("Copy"),[l,i]=(0,A.useState)("app.ricochet.exchange/#/ref/"),[r,o]=(0,A.useState)(),[c,d]=(0,A.useState)(!1),[u,y]=(0,A.useState)([]),[x,h]=(0,A.useState)();(0,A.useEffect)(()=>{h(null==t?void 0:t.toLowerCase().slice(0,10))},[t,s]),(0,A.useEffect)(()=>{(async()=>{if(t&&s){let e=await tT(t);o(e)}})()},[t,s]),(0,A.useEffect)(()=>{if(r===p.REGISTERING&&t&&s){let e=setInterval(async()=>{let e=await tT(t,h);o(e)},5e3);return()=>clearInterval(e)}},[r,t,s]);let f=()=>{navigator.clipboard.writeText("".concat(l).concat(x)).then(()=>{a("Copied!"),setTimeout(()=>{a("Copy")},3e3)}).catch()},b=e=>{let{value:t}=e.target;h(t),y(tN(t))},j=async e=>{null==e||e.preventDefault(),d(!0);let s=await (0,M.$q)({address:_.CU,abi:tw,functionName:"applyForAffiliate",args:[x,x]}),n=await (0,M.n9)(s);console.log({data:n}),n.wait().then(e=>{e&&(o(p.REGISTERING),(async()=>{let e=await (0,M.$q)({address:_.CU,abi:tw,functionName:"applyForAffiliate",args:[x,x],overrides:{from:t}}),s=await (0,M.n9)(e);console.log({data:s}),s.wait().then(e=>d(!1))})())}).catch(e=>{o(p.INACTIVE),y(["Error registering this url: possible duplicate. Please try another url"]),console.error(e)})};return(0,m.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,m.jsxs)("div",{className:"flex items-center justify-center text-slate-100 space-x-3",children:[(0,m.jsx)(tj.Z,{className:"h-6 w-6"}),(0,m.jsx)("p",{className:"uppercase tracking-widest",children:e("refer")})]}),(0,m.jsx)("p",{className:"text-slate-100",children:e("apply-refer")}),s&&(r===p.INACTIVE||r===p.REGISTERING)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("p",{className:"text-slate-400",children:[e("customize-url"),":"]}),(0,m.jsxs)("form",{onSubmit:j,className:"w-full space-y-4",children:[(0,m.jsxs)("div",{className:g(u.length>0?"border-red-700":"border-primary-500","inline-flex py-2 pl-3 w-full border rounded-lg"),children:[(0,m.jsx)("div",{className:"w-2/3 text-primary-700 truncate",children:(0,m.jsx)("span",{children:l})}),(0,m.jsx)("input",{type:"text",defaultValue:x,onChange:e=>b(e),className:"w-1/3 pl-1 pr-3 text-primary-100 placeholder-primary-500 bg-transparent focus:outline-none dark:placeholder-primary-500 ",placeholder:"".concat(e("referral-url"))})]}),u.map(t=>(0,m.jsx)("p",{className:"text-red-700 text-xs italic",children:e(t)},t)),(0,m.jsx)(X,{type:"submit",loading:c,disabled:c,primary:!0,action:c?"".concat(e("registering"),"..."):e("register-url")})]})]}),!s&&(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,m.jsxs)("p",{className:"text-primary-500",children:[e("connect-for-referrals"),"."]}),(0,m.jsx)(e6.x3.Custom,{children:t=>{let{isConnected:s,show:n}=t;return(0,m.jsx)(m.Fragment,{children:!s&&(0,m.jsx)(Y,{action:"".concat(e("connect-wallet")),type:"button",handleClick:n})})}})]}),s&&r===p.AWAITING_VERIFICATION&&(0,m.jsx)("div",{children:(0,m.jsxs)("p",{children:[e("Awaiting verification. Come back later or ping us on our discord:"),(0,m.jsx)("br",{}),(0,m.jsx)(ti,{className:"text-slate-200 underline",href:"https://discord.gg/mss4t2ED3y",target:"_blank",rel:"noreferrer",children:"https://discord.gg/mss4t2ED3y"})]})}),s&&r===p.ENABLED&&(0,m.jsxs)("div",{className:"flex flex-col justify-start items-center gap-1",children:[(0,m.jsx)("p",{children:e("your-referral-url")}),(0,m.jsx)("p",{children:l+x}),(0,m.jsxs)("button",{className:"flex justify-center items-center gap-1",onClick:f,children:[(0,m.jsx)(tv.Z,{className:"h-5 w-5"})," ",e(n)]})]}),(0,m.jsx)("a",{className:"inline-flex items-center space-x-1 text-primary-400",href:"https://docs.ricochet.exchange/readme/referral-program",target:"_blank",rel:"noopener noreferrer",children:(0,m.jsx)("span",{className:"underline",children:e("how-does-it-work")})})]})},tS=(e,t)=>{let s=null==e?void 0:e.reduce((e,s)=>s.token.id===t.toLowerCase()?e+parseInt(s.flowRate,10):e,0);return(s/1e18*2592e3).toFixed(3)},tC=(e,t,s)=>{let n=null==e?void 0:e.reduce((e,n)=>{var a,l;return(null==n?void 0:null===(a=n.token)||void 0===a?void 0:a.id)===(null==t?void 0:t.toLowerCase())&&(null==n?void 0:null===(l=n.owner)||void 0===l?void 0:l.id)===(null==s?void 0:s.toLowerCase())?e+parseInt(n.flowRate,10):e},0);return n},tE=(e,t,s,n,a)=>{let l,i;let r=eq.fY.find(t=>t.flowKey===e),o=(null==r?void 0:r.superToken)||"",c=(null==r?void 0:r.tokenA)||"",d=s.get(o),u=tC(null==d?void 0:d.flowsReceived,c,t);Object.keys(n).length>0&&(l=n["".concat(c.toLowerCase(),"-").concat(o.toLowerCase())]),Object.keys(a).length>0&&(i=a["".concat(c.toLowerCase(),"-").concat(o.toLowerCase())]);let p=(u/1e18*2592e3).toFixed(6),m=tS(null==d?void 0:d.flowsReceived,c);return{flowKey:e,flowsReceived:u,flowsOwned:m,totalFlows:null==d?void 0:d.flowsReceived.length,placeholder:p,streamedSoFar:l,receivedSoFar:i,subsidyRate:{perso:0,total:0,endDate:"unknown"}}},tI=(e,t,s)=>{let n=U.O$.from(e),a=U.O$.from(s),l=U.O$.from(t).mul(1e3),i=U.O$.from(new Date().getTime());return a.isZero()?$.formatEther(n):$.formatEther(n.add(i.sub(l).mul(a).div(1e3)))};var tF=s(68552),tR=s(9008),tD=s.n(tR),tM=s(20640);let tZ=eq.fY.map(e=>e.superToken);var t_=!0;function tL(){let e=function(){let[e,t]=A.useState(!1);return A.useEffect(()=>t(!0),[]),e}(),{t}=(0,E.$G)("home"),{address:s,isConnected:n}=(0,T.mA)(),[a,l]=(0,A.useState)(new eH.Z(0)),[i,r]=(0,A.useState)("0"),[o,c]=(0,A.useState)(!1),d=(0,T.yL)({chainId:k.yu.id}),{data:u,isLoading:p,isSuccess:y,isError:x,error:h}=ec.Z.useGetTokenPriceQuery("richochet"),{data:f,isSuccess:b,isError:g,error:v}=ec.Z.useGetUpgradedTokensListQuery(),[w,C]=(0,A.useState)(new Map),[I,F]=(0,A.useState)({}),[R,D]=(0,A.useState)([]),[Z,B]=(0,A.useState)([]),[O,U]=(0,A.useState)(0),[P,G]=(0,A.useState)(new Map),[Q,W]=(0,A.useState)([]),[V,$]=(0,A.useState)(0),[K,H]=(0,A.useState)(!1),[q,X]=(0,A.useState)(!1),[J,ee]=(0,A.useState)([]),et=ed(),[es]=tM.Z.useQueryFlowsMutation(),[en]=tM.Z.useQueryStreamsMutation(),[ea]=tM.Z.useQueryReceivedMutation();(0,A.useEffect)(()=>{n&&z(s).then(e=>F(e))},[s,n]),(0,A.useEffect)(()=>{let e=tZ.map(async e=>await es(e).then(e=>{var t,s;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.account}));Promise.all(e).then(e=>ee(e))},[e,s,n]);let el=(e,t)=>{(e||[]).forEach(e=>{let s=t["".concat(e.token.id,"-").concat(e.receiver.id)]||0;Object.assign(t,{["".concat(e.token.id,"-").concat(e.receiver.id)]:Number(s)+Number(tI(e.streamedUntilUpdatedAt,e.updatedAtTimestamp,e.currentFlowRate))})})},ei=(e,t)=>{(e||[]).forEach(e=>{let s=t["".concat(e.token.id,"-").concat(e.sender.id)]||0;Object.assign(t,{["".concat(e.token.id,"-").concat(e.sender.id)]:Number(s)+Number(tI(e.streamedUntilUpdatedAt,e.updatedAtTimestamp,e.currentFlowRate))})})},er=(e,t)=>{let n=new Map;tZ.forEach((e,t)=>{J.length>0&&(null!==J[t]?n.set(e,J[t]):n.set(e,{flowsOwned:[],flowsReceived:[]}))});let a=new Map;if(n.size>0)for(let[l,i]of Object.entries(eq.he))a.set(i,tE(i,s,n,e,t));C(a)},eo=async()=>{let e={},t={};s&&(await en(s).then(t=>{var s,n;return el(null==t?void 0:null===(s=t.data)||void 0===s?void 0:null===(n=s.data)||void 0===n?void 0:n.streams,e)}),await ea(s).then(e=>{var s,n;return ei(null==e?void 0:null===(s=e.data)||void 0===s?void 0:null===(n=s.data)||void 0===n?void 0:n.streams,t)})),er(e,t)},eu=e=>{let t=[_.Ne,_.gI,_.PV,_.Xr,_.dU,_.q9,_.MJ];return!!t.includes(e)};(0,A.useEffect)(()=>{J.length>0&&eo()},[J,s,n]),(0,A.useEffect)(()=>{if(n&&s&&e){let t=eq.fY.filter(e=>{var t;let{flowKey:s}=e;return parseFloat(null===(t=w.get(s))||void 0===t?void 0:t.placeholder)>0});B(t)}},[w,s,n,e]),(0,A.useEffect)(()=>{if(n&&g&&console.error(v),n&&b){X(!0);let e=L.reduce((e,t)=>{let s=Object.keys(I).length&&f&&Object.keys(ep).length&&(parseFloat(I[t.superTokenAddress])*parseFloat(f[ep[t.coin]].usd)).toFixed(6);return e+parseFloat(s)},0);U(e),X(!1)}},[n,s,I,f,b]),(0,A.useEffect)(()=>{et.size>0&&w.size>0&&D(eq.fY.filter(e=>e.type===eq.Z6.market).sort((e,t)=>{let s=parseFloat(eJ(e,w,et)),n=parseFloat(eJ(t,w,et));return n-s}))},[w,et]),(0,A.useEffect)(()=>{if(R.length){H(!0);let e=new Map;(async()=>await Promise.all(R.map(async t=>{eu(t.superToken)&&await (0,M.a4)({address:t.superToken,abi:to,functionName:"getOutputPool",args:[3]}).then(s=>{let n=(Number(s.emissionRate)/1e18*2592e3).toFixed(4);e.set(t.superToken,n.toString())}).catch(e=>{console.log("error",e)})})).then(t=>G(e)))()}},[R]),(0,A.useEffect)(()=>{R.length&&w.size>0&&P.size>0&&R.map(e=>{var t,s;let n=+(null===(t=w.get(e.flowKey))||void 0===t?void 0:t.placeholder)/+(null===(s=w.get(e.flowKey))||void 0===s?void 0:s.flowsOwned)*100,a=+n/100*+P.get(e.superToken);a&&W(e=>[...e,a])})},[P,w,R]),(0,A.useEffect)(()=>{if(Q.length){let e=Q.filter((e,t,s)=>s.indexOf(e)===t).reduce((e,t)=>e+t,0);$(e),H(!1)}},[Q]),(0,A.useEffect)(()=>{if(n&&u&&y){var e;l(new eH.Z(parseFloat(null==u?void 0:null===(e=u.richochet)||void 0===e?void 0:e.usd)))}x&&console.error(h)},[n,s,u,y]);let em=async()=>{c(!0),await (0,tF.x)().then(async e=>{if(Z.length>0){let t=Z.map(async t=>await e.cfaV1.getNetFlow({superToken:t.tokenA,account:s,providerOrSigner:d}));Promise.all(t).then(e=>{let t=e.reduce((e,t)=>e+parseFloat(t),0).toFixed(0),s=new eH.Z(t),n=s.times(new eH.Z("2592000")).div(new eH.Z("10e17")).times(a).toFixed(0);r(n),c(!1)})}c(!1)}).catch(e=>c(!1))};return((0,A.useEffect)(()=>{n&&a&&em()},[n,Z,a]),e)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(tD(),{children:[(0,m.jsx)("title",{children:"Ricochet | Streaming Exchange"}),(0,m.jsx)("meta",{name:"description",content:"Automatic Real-Time Crypto Investing"}),(0,m.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,m.jsx)("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"})]}),(0,m.jsxs)("div",{className:"bg-gradient-to-b from-background-700 via-background-800 to-background-900 overflow-clip",children:[(0,m.jsx)(tr,{}),(0,m.jsx)("main",{children:(0,m.jsxs)("div",{className:"mx-auto w-screen py-6 px-8 lg:px-16",children:[(0,m.jsx)(N,{}),n&&(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 justify-items-stretch place-items-stretch gap-10",children:[(0,m.jsx)(eW,{content:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{className:"font-light uppercase tracking-widest text-primary-500 mb-2",children:t("total-in-positions")}),q&&!O&&(0,m.jsx)("div",{className:"animate-pulse",children:(0,m.jsx)("div",{className:"h-4 rounded bg-slate-700"})}),(O||0===O)&&!q&&(0,m.jsx)("p",{className:"text-slate-100 font-light text-2xl",children:j(O)})]})}),(0,m.jsx)(eW,{content:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{className:"font-light uppercase tracking-widest text-primary-500 mb-2",children:t("net-flow-rate")}),o&&!i&&(0,m.jsx)("div",{className:"animate-pulse",children:(0,m.jsx)("div",{className:"h-4 rounded bg-slate-700"})}),i&&!o&&(0,m.jsxs)("p",{className:"text-slate-100 font-light text-2xl",children:[j(parseFloat(i))," / ",t("month")]})]})}),(0,m.jsx)(eW,{content:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{className:"font-light uppercase tracking-widest text-primary-500 mb-2",children:t("ric-balance")}),(0,m.jsx)("div",{className:"text-slate-100 font-light text-2xl space-x-1",children:(0,m.jsx)(S,{tokenAddress:_.cZ,showSymbol:!0})})]})}),(0,m.jsx)(eW,{content:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{className:"font-light uppercase tracking-widest text-primary-500 mb-2",children:t("rewards-earned")}),K&&!V&&(0,m.jsx)("div",{className:"animate-pulse",children:(0,m.jsx)("div",{className:"h-4 rounded bg-slate-700"})}),(V||0===V)&&!K&&(0,m.jsxs)("p",{className:"text-slate-100 font-light text-2xl",children:[V.toFixed(2)," RIC / mo"]})]})})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 place-content-stretch mt-16",children:[(0,m.jsxs)("div",{className:"lg:col-span-2 space-y-10",children:[(0,m.jsx)(eQ,{content:n?(0,m.jsx)(tg,{positions:Z,queries:w}):(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 h-96",children:[(0,m.jsxs)("p",{className:"text-primary-500",children:[t("connect-for-positions"),"."]}),(0,m.jsx)(e6.x3.Custom,{children:e=>{let{isConnected:s,show:n}=e;return(0,m.jsx)(m.Fragment,{children:!s&&(0,m.jsx)(Y,{action:"".concat(t("connect-wallet")),type:"button",handleClick:n})})}})]})}),(0,m.jsx)(eQ,{content:(0,m.jsx)(e2,{coingeckoPrices:et,sortedList:R,queries:w})})]}),(0,m.jsxs)("div",{className:"space-y-10",children:[(0,m.jsx)(eG,{content:(0,m.jsx)(eY,{})}),(0,m.jsx)(eU,{content:n?(0,m.jsx)(eB,{tokens:f,balances:I}):(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 h-96",children:[(0,m.jsxs)("p",{className:"text-primary-500",children:[t("connect-for-balances"),"."]}),(0,m.jsx)(e6.x3.Custom,{children:e=>{let{isConnected:s,show:n}=e;return(0,m.jsx)(m.Fragment,{children:!s&&(0,m.jsx)(Y,{action:"".concat(t("connect-wallet")),type:"button",handleClick:n})})}})]})}),(0,m.jsx)(eP,{content:(0,m.jsx)(tk,{})})]})]})]})}),(0,m.jsx)(e$,{})]})]}):(0,m.jsx)(m.Fragment,{})}}},function(e){e.O(0,[698,774,888,179],function(){return e(e.s=53124)}),_N_E=e.O()}]);